{"version":3,"sources":["api/api.js","utils/object-helpers.js","redux/usersReducer.js","components/Profile/Profile.module.css","assets/images/loader.gif","components/Profile/MyPosts/Post/Post.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/Friends/Friend/FriendItem.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","redux/profileReducer.js","redux/dialogsReducer.js","redux/sidebarReducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Friends/Friend/FriendItem.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","hoc/withAuthRedirect.js","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","App.js","serviceWorker.js","index.js","components/common/FormsControls/FormsControl.module.css","components/common/Preloader/Preloader.jsx","components/Navbar/Navbar.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","assets/images/user.png"],"names":["instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUser","userId","delete","followUser","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","getMyAccount","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","initialState","users","totalUsersCount","isFetching","followingInProgress","follow","type","unfollow","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","dispatch","a","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","state","action","followed","filter","id","module","exports","posts","title","src","likesCount","newPostText","setUserProfile","setStatus","profileReducer","newPost","photos","dialogs","name","messages","message","dialogsReducer","newMessage","messageInput","friends","sidebarReducer","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","dialogPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FriendItem","props","Friends","friend","el","key","FriendsContainer","connect","Navbar","className","s","nav","item","to","activeClassName","activeLink","getState","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","autoFocus","required","maxLengthCreator","maxLength","length","Textarea","input","meta","hasError","touched","error","formControl","Input","createField","placeholder","validators","component","text","validate","ProfileDataFormReduxForm","reduxForm","handleSubmit","onSubmit","formSummaryError","Object","keys","contacts","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","Preloader","descriptionBlock","avatar","large","userPhoto","target","files","initialvalues","log","Post","MyPosts","React","memo","postsBlock","PostReduxForm","addPost","maxLength30","reset","MyPostsContainer","addPostActionCreator","Profile","content","mapStateToPropsForRedirect","withAuthRedirect","Component","RedirectComponent","this","ProfileContainer","match","params","authorizedUserId","history","push","refreshProfile","prevProps","prevState","snapshot","withRouter","file","stopSubmit","_error","Promise","reject","Header","header","alt","loginBlock","HeaderContainer","LoginReduxForm","DialogItem","dialog","active","Message","maxLength100","DialogReduxForm","Dialogs","dialogsItems","values","addMessage","newMessageText","addMessageActionCreator","UsersContainer","lazy","App","catchAllUnhandledErrors","alert","initializeApp","addEventListener","removeEventListener","Switch","exact","path","render","Redirect","DialogsContainer","fallback","AppContainer","promise","all","SocialNetworkApp","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","preloader"],"mappings":"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","file":"static/js/main.68760e17.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': 'fcacb08a-0280-492f-a832-bfb7851b80ad'}\n});\n\n\nexport let userAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                return response.data\n            })\n    },\n    unfollowUser(userId) {\n        return instance.delete(`follow/${userId}`);\n    },\n    followUser(userId) {\n        return instance.post(`follow/${userId}`, {});\n    },\n    getProfile(userId) {\n        console.warn('Use profileAPI method instead');\n        return profileAPI.getProfile(userId);\n    }\n};\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/` + userId);\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId);\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status/`, {status: status});\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append(\"image\", photoFile);\n        return instance.put(`profile/photo/`, formData, {\n            headers:\n                {'Content-Type': 'multipart/form-data'}\n        });\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile);\n    }\n};\n\nexport const authAPI = {\n    getMyAccount() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n};\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`);\n    }\n};","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        }\n        return u;\n    })\n};","import {userAPI} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 21,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n                // users: state.users.map(u => {\n                //     if (u.id === action.userId) {\n                //         return {...u, followed: true}\n                //     }\n                //     return u;\n                // })\n            }\n        }\n        case UNFOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n                // users: state.users.map(u => {\n                //     if (u.id === action.userId) {\n                //         return {...u, followed: false}\n                //     }\n                //     return u;\n                // })\n            }\n        }\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.totalUsersCount}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id != action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n};\n\nexport let follow = (userId) => ({type: FOLLOW, userId});\nexport let unfollow = (userId) => ({type: UNFOLLOW, userId});\nexport let setUsers = (users) => ({type: SET_USERS, users});\nexport let setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\nexport let setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\nexport let toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport let toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    let data = await userAPI.getUsers(currentPage, pageSize);\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(setCurrentPage(currentPage))\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n};\n\nexport const followUser = (userId) => async (dispatch) => {\n    debugger;\n    followUnfollowFlow(dispatch, userId, userAPI.followUser.bind(userAPI), follow);\n};\n\nexport const unfollowUser = (userId) => async (dispatch) => {\n    debugger;\n    followUnfollowFlow(dispatch, userId, userAPI.unfollowUser.bind(userAPI), unfollow);\n};\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Profile_avatar__aV4u5\"};","module.exports = __webpack_public_path__ + \"static/media/loader.65ebb302.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"FriendItem_postsBlock__roxGR\",\"posts\":\"FriendItem_posts__1PbPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"avatar\":\"ProfileInfo_avatar__3xuFq\",\"fullName\":\"ProfileInfo_fullName__2p--3\",\"aboutMe\":\"ProfileInfo_aboutMe__1mww3\",\"contact\":\"ProfileInfo_contact__1N3gp\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3Pphw\"};","import {profileAPI, userAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\n\nlet initialState = {\n    posts: [\n        {\n            title: \"His new car\",\n            src: \"https://s3.tproger.ru/uploads/2020/05/IMG_8715-50x50.png\",\n            likesCount: '23'\n        },\n        {\n            title: \"I've bought a house\",\n            src: \"https://s3.tproger.ru/uploads/2020/05/unnamed-50x50.jpg\",\n            likesCount: '12'\n        },\n        {\n            title: \"Green socks\",\n            src: \"https://s3.tproger.ru/uploads/2020/04/1_tilda1502215-50x50.jpg\",\n            likesCount: '2'\n        },\n        {\n            title: \"It's my life\",\n            src: \"https://s3.tproger.ru/uploads/2020/04/MyOffice_Logo_tilda1424002-50x50.png\",\n            likesCount: '33'\n        },\n    ],\n    newPostText: \"\",\n    profile: null,\n    status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                title: action.newPostText,\n                src: \"https://s3.tproger.ru/uploads/2020/05/IMG_8715-50x50.png\",\n                likesCount: '0'\n            };\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {...state, profile: action.profile}\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return {...state, profile: {...state.profile, photos: action.photos}}\n        }\n        default:\n            return state;\n    }\n};\n\nexport let addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\nexport let setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\nexport let setStatus = (status) => ({type: SET_STATUS, status});\nexport let savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\n\n\nexport const getProfile = (userId) => async (dispatch) => {\n    let response = await userAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status);\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n};\n\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n};\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.id;\n    let response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n        dispatch(getProfile(userId));\n    }\n    else {\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\n        return Promise.reject(response.data.messages[0])\n    }\n};\n\n\nexport default profileReducer;\n","const ADD_MESSAGE = 'ADD-MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        {name: 'Mariya', id: '1'},\n        {name: 'Sanya', id: '2'},\n        {name: 'Petya', id: '3'},\n        {name: 'John', id: '4'}\n    ],\n    messages: [\n        {id: '1', message: 'Hello'},\n        {id: '2', message: 'How are you?'},\n        {id: '3', message: 'My friend is...'}\n    ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n        switch (action.type) {\n            case ADD_MESSAGE: {\n                let newMessage = {\n                    id: '5',\n                    message: action.messageInput\n                };\n                return {\n                    ...state,\n                    messages: [...state.messages, newMessage]\n                }\n            }\n            default:\n                return state;\n        }\n    }\n;\n\nexport let addMessageActionCreator = (messageInput) => ({type: ADD_MESSAGE, messageInput});\n\nexport default dialogsReducer;","let initialState = {\n    friends: [\n        {name: \"Vasja\", src: \"https://s3.tproger.ru/uploads/2020/05/IMG_8715-50x50.png\", id: 1},\n        {name: \"Petia\", src: \"https://s3.tproger.ru/uploads/2020/05/IMG_8715-50x50.png\", id: 2},\n        {name: \"Kolia\", src: \"https://s3.tproger.ru/uploads/2020/05/IMG_8715-50x50.png\", id: 3},\n    ],\n};\n\nconst sidebarReducer = (state = initialState, action) => {\n\n    return state;\n};\n\n\nexport default sidebarReducer;","import {authAPI, securityAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\n\n\nlet initialState = {\n    id: null,\n    email: null,\n    login: null,\n    isFetching: false,\n    isAuth: false,\n    captchaUrl: null // if null, captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS: {\n            return {\n                ...state,\n                ...action.payload\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const setAuthUserData = (id, email, login, isAuth) => ({\n    type: SET_USER_DATA,\n    payload: {id, email, login, isAuth}\n});\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n    type: GET_CAPTCHA_URL_SUCCESS,\n    payload: {captchaUrl}\n});\n\nexport const getMyAccount = () => async (dispatch) => {\n    let response = await authAPI.getMyAccount();\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        // success, get auth data\n        dispatch(getMyAccount());\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl())\n        }\n\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}));\n    }\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n};\n\nexport const logout = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.logout(email, password, rememberMe);\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    }\n};\n\nexport default authReducer;\n","import {authAPI, userAPI} from \"../api/api\";\nimport {setUserProfile} from \"./profileReducer\";\nimport {stopSubmit} from \"redux-form\";\nimport {getMyAccount} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS: {\n            return {\n                ...state,\n                initialized: true\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getMyAccount());\n    Promise.all([promise])\n        .then(() => {\n        dispatch(initializedSuccess());\n    })\n};\n\n\nexport default appReducer;\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\nimport profileReducer from \"./profileReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport s from \"./FriendItem.module.css\"\n// import Post from \"./Post/Post\"\n// import postsData from \"./../Profile\"\n\n\nconst FriendItem = (props) => {\n    return (\n        <div>\n            <img src={props.src}/>\n            <div>\n               {props.name}\n            </div>\n        </div>\n    )\n};\n\nexport default FriendItem;\n","import React from \"react\";\nimport FriendItem from \"./Friend/FriendItem\";\n\n\nconst Friends = (props) => {\n    let friend = props.friends.map((el) => (<FriendItem key={el.id} src={el.src} name={el.name}/>));\n\n    return (\n        <div>\n            <h3>Friends</h3>\n            <div>\n                {friend}\n            </div>\n        </div>\n    )\n};\n\nexport default Friends;\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Friends from \"./Friends\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n\n    }\n};\n\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\n\nexport default FriendsContainer;\n","import React from \"react\";\nimport s from \"./Navbar.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport FriendsContainer from \"./Friends/FriendsContainer\";\n\n\nconst Navbar = (props) => {\n    return (\n        <div>\n            <nav className={s.nav}>\n                <div className={s.item}>\n                    <NavLink to=\"/profile\" activeClassName={s.activeLink} className={s.item}>Profile</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to='/dialogs' activeClassName={s.activeLink} className={s.item}>Messages</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to='/news' activeClassName={s.activeLink} className={s.item}>News</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to='/users' activeClassName={s.activeLink} className={s.item}>Users</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to='/music' activeClassName={s.activeLink} className={s.item}>Music</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to='/settings' activeClassName={s.activeLink} className={s.item}>Settings</NavLink>\n                </div>\n                <FriendsContainer friends = {props.store.getState().sidebar.friends} />\n            </nav>\n        </div>\n    )\n};\n\nexport default Navbar;","import React, {useEffect, useState} from \"react\";\nimport s from \"./ProfileStatus.module.css\"\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect( () => {\n        setStatus(props.status)\n    },  [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    };\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    };\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value)\n    };\n\n    return (\n        <div>\n\n            {!editMode &&\n                <div>\n                    <b>Status:{\" \"}</b>\n                    <span onDoubleClick={activateEditMode}>{props.status || \"-----------\"}</span>\n                </div>\n            }\n            {editMode &&\n            <div>\n                <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}/>\n            </div>\n                }\n        </div>\n    )\n};\n\nexport default ProfileStatusWithHooks;\n","export const required = value => {\n    if (value) return undefined;\n\n    return 'Field is required';\n};\n\nexport const maxLengthCreator = (maxLength) => value => {\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n};\n","import React from \"react\";\nimport s from \"./FormsControl.module.css\"\nimport {required} from \"../../../utils/validators/validators\";\nimport Field from \"redux-form/lib/Field\";\n\nexport const Textarea = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error;\n\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                <textarea {...input} {...props}/>\n            </div>\n            {hasError && <span>{meta.error}</span>}\n        </div>\n\n    )\n};\n\nexport const Input = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error;\n\n    return (\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\n            <div>\n                <input {...input} {...props}/>\n            </div>\n            {hasError && <span>{meta.error}</span>}\n        </div>\n\n    )\n};\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\n    return <div>\n        <Field placeholder={placeholder} name={name} component={component} validate={validators} {...props}/>\n        {text}\n    </div>\n};","import React from \"react\";\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\nimport reduxForm from \"redux-form/lib/immutable/reduxForm\";\nimport s from \"./ProfileInfo.module.css\"\n\n\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\n\n\n    return <form onSubmit={handleSubmit}>\n        <div>\n            <button>save</button>\n        </div>\n        {error && <div className={s.formSummaryError}>\n            {error}\n        </div>}\n        <div>\n            <span><b>Full name:</b></span> {createField(\"Full name\", \"fullName\", [], Input)}\n        </div>\n        <div>\n            <div>\n                <b>Looking for a job:</b>\n                {createField(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\"})}\n            </div>\n            <div>\n                <b>My professional skills:</b>\n                {createField(\"My professional skills\", \"lookingForAJobDescription\", [], Textarea)}\n            </div>\n            <div>\n                <b>About me:</b>\n                {createField(\"About me\", \"aboutMe\", [], Textarea)}\n            </div>\n            <div>\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\n                return <div className={s.contact}>\n                    <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\n                </div>\n            })}\n            </div>\n        </div>\n\n    </form>\n};\n\n\nconst ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\n\n\nexport default ProfileDataFormReduxForm;","import React, {useState} from \"react\";\nimport s from \"./ProfileInfo.module.css\"\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from './../../../assets/images/user.png'\nimport ProfileDataFormReduxForm from \"./ProfileDataForm\";\nimport ProfileDataForm from \"./ProfileDataForm\";\n\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\n\n    let [editMode, setEditMode] = useState(false);\n\n    if (!profile) {\n        return <Preloader/>\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0])\n        }\n    };\n\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(() => {\n            setEditMode(false)\n            console.log(formData);\n        });\n    };\n\n    // const initialValues = {aboutMe:\"Sasha111\",\n    //     contacts:{facebook:null, website:null,vk: \"www.vk.com\",twitter:null,instagram:null,youtube:null,github:null,mainLink:null},\n    //     lookingForAJob:false,\n    //     lookingForAJobDescription:\"poiuy\",\n    //     fullName:\"m,nbv\",\n    //     userId:8704,\n    //     photos:{small: null,\n    //         large: null}};\n\n    return (\n        <div>\n            <div className={s.descriptionBlock}>\n                <img className={s.avatar} src={profile.photos.large || userPhoto}/>\n                {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\n\n            </div>\n\n            {editMode\n                // initialValues={profile}\n                ? <ProfileDataFormReduxForm profile={profile} initialvalues={profile} onSubmit={onSubmit} />\n                : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => {\n                    setEditMode(true)\n                }}/>}\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n        </div>\n    )\n};\n\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return <div>\n        {isOwner && <div>\n            <button onClick={goToEditMode}>edit</button>\n        </div>}\n        <div className={s.fullName}>\n            <span><b>Full name: </b>{profile.fullName}</span>\n        </div>\n        <div>\n            <div>\n                <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\n            </div>\n            {profile.lookingForAJob &&\n            <div>\n                <b>My professional skills:</b> {profile.lookingForAJobDescription}\n            </div>\n            }\n            <div>\n                <b>About me:</b> {profile.aboutMe}\n            </div>\n            <div>\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\n            })}\n            </div>\n\n        </div>\n\n    </div>\n};\n\nconst Contact = ({contactTitle, contactValue}) => {\n    return <div className={s.contact}><b>{contactTitle}:</b> {contactValue}</div>\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport s from \"./Post.module.css\"\n\nconst Post = (props) => {\n    return (\n        <div className={s.item}>\n            <img src={props.src}/>\n            {props.title}\n            <div>\n                Лайки: {props.likesCount}\n            </div>\n        </div>\n    )\n};\n\nexport default Post;\n","import React from \"react\";\nimport s from \"./MyPosts.module.css\"\nimport Post from \"./Post/Post\"\nimport reduxForm from \"redux-form/lib/immutable/reduxForm\";\nimport Field from \"redux-form/lib/Field\";\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\n\n\nconst MyPosts = React.memo( (props) => {\n\n    let post = props.posts.map((el) => (<Post key={el.id} title={el.title} src={el.src} likesCount={el.likesCount}/>));\n\n    let addPost = (value) => {\n        props.addPost(value.newPostText);\n    };\n\n    return (\n\n        <div className={s.postsBlock}>\n            <h3>My post</h3>\n            <PostReduxForm onSubmit={addPost} />\n            <div className={s.posts}>\n                {post}\n            </div>\n        </div>\n    )\n});\n\nlet maxLength30 = maxLengthCreator(30);\n\nconst PostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} type=\"text\" placeholder={\"Post message\"} name={\"newPostText\"} validate={[ maxLength30 ]} />\n            </div>\n            <div>\n                <button onChange={props.reset}>Add post</button>\n            </div>\n        </form>\n    )\n};\n\nconst PostReduxForm = reduxForm({form: 'post'})(PostForm);\n\nexport default MyPosts;\n","import React from \"react\";\nimport {addPostActionCreator} from \"../../../redux/profileReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport s from \"./Profile.module.css\"\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nconst Profile = (props) => {\n    return (\n        <div className={s.content}>\n            <ProfileInfo isOwner={props.isOwner} profile={props.profile} getProfile={props.getProfile} status={props.status}\n                         updateStatus={props.updateStatus} savePhoto={props.savePhoto} saveProfile={props.saveProfile}/>\n            <MyPostsContainer store={props.store} />\n        </div>\n    )\n};\n\n\nexport default Profile;\n\n","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {getProfile, setUserProfile} from \"../redux/profileReducer\";\nimport connect from \"react-redux/lib/connect/connect\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\n            return <Component {...this.props} />\n        }\n    }\n\n    let connectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n    return connectedAuthRedirectComponent;\n};","import React from \"react\";\nimport Profile from \"./Profile\";\nimport connect from \"react-redux/lib/connect/connect\";\nimport {getStatus, savePhoto, saveProfile, setUserProfile, updateStatus} from \"../../redux/profileReducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {getProfile} from \"../../redux/profileReducer\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push(\"./login\");\n            }\n        }\n        this.props.getProfile(userId); // санка\n        this.props.getStatus(userId); // санка\n    }\n\n    componentDidMount() {\n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\n            this.refreshProfile();\n        }\n    }\n\n    render() {\n        return (\n            <Profile {...this.props} profile={this.props.profile} getProfile={this.props.getProfile}\n                     isAuth={this.props.isAuth} status={this.props.status} updateStatus={this.props.updateStatus}\n                     isOwner={!this.props.match.params.userId} savePhoto={this.props.savePhoto} saveProfile={this.props.saveProfile}/>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.id,\n    isAuth: state.auth.isAuth\n});\n\nexport default compose(\n    withRouter,\n    withAuthRedirect,\n    connect(mapStateToProps, {setUserProfile, getProfile, getStatus, updateStatus, savePhoto, saveProfile})\n)(ProfileContainer);\n","import React from \"react\";\nimport s from \"./Header.module.css\"\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return (\n        <header className={s.header}>\n            <img alt=\"Company Logo\" src='https://upload.wikimedia.org/wikipedia/commons/2/29/HP_New_Logo_2D.svg'/>\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div>{props.login}<button onClick={props.logout}>Log out</button></div>\n                    : <NavLink to={'/login'}>Login</NavLink>}\n            </div>\n        </header>\n    )\n};\n\nexport default Header;","import React from \"react\";\nimport {setAuthUserData, logout} from \"../../redux/auth-reducer\";\nimport Header from \"./Header\";\nimport connect from \"react-redux/lib/connect/connect\";\n\n\n\nclass HeaderContainer extends React.Component {\n    // componentDidMount() {\n    //     this.props.getMyAccount();\n    // };\n\n\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {setAuthUserData, logout})(HeaderContainer);\n","import React from \"react\";\nimport reduxForm from \"redux-form/lib/immutable/reduxForm\";\nimport Field from \"redux-form/lib/Field\";\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\nimport {required} from \"../../utils/validators/validators\";\nimport connect from \"react-redux/lib/connect/connect\";\nimport {login} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport s from \"./../common/FormsControls/FormsControl.module.css\"\n\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                <Field placeholder={\"email\"} name={\"email\"} component={Input} validate={[required]}/>\n            </div>\n            <div>\n                <Field placeholder={\"Password\"} name={\"password\"} component={Input} validate={[required]}\n                       type={\"password\"}/>\n            </div>\n            <div>\n                <Field type=\"checkbox\" name={\"rememberMe\"} component={Input} />\n            </div>\n\n            {captchaUrl && <img alt=\"captcha\" src={captchaUrl}/>}\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\n\n            {error && <div className={s.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n};\n\n\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\n\n\nconst Login = (props) => {\n\n    const sendAuthData = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n    };\n\n    if (props.isAuth) {\n        return <Redirect to={\"/profile\"} />\n    }\n\n    return <div>\n        <h1> Login </h1>\n        <LoginReduxForm onSubmit={sendAuthData} captchaUrl={props.captchaUrl}/>\n    </div>\n};\n\n\nconst mapStateToProps = (state) => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n});\n\nexport default connect(mapStateToProps, {login})(Login);","import React from \"react\";\nimport s from \"./../Dialogs.module.css\";\nimport {NavLink} from 'react-router-dom';\n\nconst DialogItem = (props) => {\n    return (<div className={ s.dialog + \" \" + s.active }>\n                <NavLink to = { \"/dialogs/\" + props.id }>{props.name}</NavLink>\n            </div>)\n};\n\nexport default DialogItem;","import React from \"react\";\nimport s from \"./../Dialogs.module.css\";\n\n\n\nconst Message = (props) => {\n    return (<div className={s.message}>\n                {props.text}\n            </div>)\n};\n\nexport default Message;","import React from \"react\";\nimport s from \"./Dialogs.module.css\";\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport Message from \"./Message/Message\";\nimport reduxForm from \"redux-form/lib/immutable/reduxForm\";\nimport Field from \"redux-form/lib/Field\";\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\n\n\nconst Dialogs = (props) => {\n\n    let dialogs = props.state.dialogs.map((dialog) => (<DialogItem key={dialog.id} name={dialog.name} id={dialog.id}/>));\n    let message = props.state.messages.map((message) => (<Message key={message.id} text={message.message}/>));\n\n    let addNewMessage = (values) => {\n        props.addMessage(values.messageInput);\n    };\n\n    return (\n        <div>\n            <div className={s.dialogs}>\n                <div className={s.dialogsItems}>\n                    {dialogs}\n                </div>\n                <div className={s.messages}>\n                    {message}\n                </div>\n            </div>\n\n            <DialogReduxForm onSubmit={addNewMessage} />\n        </div>\n    )\n};\n\nconst maxLength100 = maxLengthCreator(100);\n\nconst DialogForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} validate={[required, maxLength100]} placeholder=\"Enter your message\" name={\"messageInput\"} />\n            </div>\n            <div>\n                <button>Write Message</button>\n            </div>\n        </form>\n    )\n};\n\n\nconst DialogReduxForm = reduxForm({form: 'message'})(DialogForm);\n\nexport default Dialogs;","import React from \"react\";\nimport {addMessageActionCreator} from \"../../redux/dialogsReducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\n// const DialogsContainer = (props) => {\n//     debugger\n//\n//     let state = props.store.getState().dialogPage;\n//\n//     let onAddMessageClick = () => {\n//         props.store.dispatch(addMessageActionCreator());\n//     };\n//\n//     let onMessageChange = (text) => {\n//         props.store.dispatch(updateNewMessageTextActionCreator(text));\n//     };\n//\n//     return (\n//         <Dialogs addMessage={onAddMessageClick} updateNewMessageText={onMessageChange}\n//                  state={state} newMessageText={state.newMessageText}/>\n//     )\n// };\n\n\nlet mapStateToProps = (state) => {\n    return {\n        state: state.dialogPage,\n        newMessageText: state.dialogPage.newMessageText,\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addMessage: (messageInput) => {\n            dispatch(addMessageActionCreator(messageInput));\n        }\n    }\n};\n\nexport default compose (\n    withAuthRedirect,\n    connect(mapStateToProps, mapDispatchToProps),\n) (Dialogs);\n\n// let AuthRedirectComponent = withAuthRedirect(Dialogs);\n//\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\n//\n// export default DialogsContainer;\n","import React, {Component, Suspense} from 'react';\nimport Navbar from './components/Navbar/Navbar'\nimport './App.css';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport {Provider, connect} from \"react-redux\";\nimport store from \"./redux/redux-store\";\nimport Switch from \"react-router-dom/es/Switch\";\nimport Redirect from \"react-router-dom/es/Redirect\";\n\n\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n    catchAllUnhandledErrors = () => {\n      alert(\"Some error occurred\")\n    };\n\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer store={this.props.store}/>\n                <Navbar store={this.props.store}/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/' render={() => <Redirect to={\"./profile\"} />}/>\n\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer store={this.props.store}/>}/>\n\n                        <Route path='/dialogs' render={() => <DialogsContainer store={this.props.store}/>}/>\n\n                        <Route path='/users' render={() =>\n                            <Suspense fallback={\"Loading...\"}>\n                                <UsersContainer store={this.props.store}/>\n                            </Suspense>\n                        }/>\n\n                        <Route path='/login' render={() => <Login store={this.props.store}/>}/>\n\n                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst SocialNetworkApp = (props) => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer store={store}/>\n        </Provider>\n    </HashRouter>\n};\n\nexport default SocialNetworkApp;\n// export default compose(\n//     withRouter,\n//     connect(mapStateToProps, {initializeApp}))(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport './index.css';\nimport store from \"./redux/redux-store\";\nimport ReactDOM from 'react-dom/';\nimport './index.css';\nimport SocialNetworkApp from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(<SocialNetworkApp/>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__WE9ql\",\"error\":\"FormsControl_error__eY5EU\",\"formSummaryError\":\"FormsControl_formSummaryError__3Uy6X\"};","import React from \"react\";\nimport preloader from '../../../assets/images/loader.gif';\n\nlet Preloader = () => {\n    return <div><img src={preloader}/></div>\n};\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","module.exports = __webpack_public_path__ + \"static/media/user.809d3e38.png\";"],"sourceRoot":""}