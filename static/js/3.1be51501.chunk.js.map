{"version":3,"sources":["components/Users/User.module.css","components/common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","Paginator","currentPage","onPageChanged","totalItemsCount","pageSize","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","paginator","onClick","filter","p","map","id","cn","selectedPage","pageNumber","pointer","User","user","followingInProgress","unfollowUser","followUser","to","src","photos","small","userPhoto","photo","followed","disabled","some","name","status","Users","totalUsersCount","users","props","u","getUser","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersComponent","requestUsers","this","Preloader","follow","unfollow","toggleFollowingProgress","React","Component","compose","connect","setCurrentPage"],"mappings":"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","file":"static/js/3.1be51501.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"User_photo__2XVZD\",\"pageNum\":\"User_pageNum__1ANve\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3SIki\",\"pointer\":\"Paginator_pointer__3sODf\",\"paginator\":\"Paginator_paginator__18P4_\",\"pageNumber\":\"Paginator_pageNumber__xOsKi\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React, {useState} from \"react\";\nimport s from './Paginator.module.css'\nimport cn from \"classnames\";\n\n\nconst Paginator = ({currentPage, onPageChanged, totalItemsCount, pageSize, portionSize = 10}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return (\n        <div className={s.paginator}>\n            {portionNumber > 1 && <button onClick={() => {\n                setPortionNumber(portionNumber - 1)\n            }}>PREV</button>}\n\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\n                return <span key={p.id} className={cn({[s.selectedPage]: currentPage === p}, s.pageNumber, s.pointer)}\n                             onClick={() => {\n                                 onPageChanged(p)\n                             }}>{p}</span>\n            })\n            }\n\n            {\n                portionCount > portionNumber && <button onClick={() => {\n                    setPortionNumber(portionNumber + 1)\n                }}>NEXT</button>\n            }\n        </div>\n    )\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport s from './User.module.css'\nimport userPhoto from './../../assets/images/user.png'\nimport {NavLink} from \"react-router-dom\";\n\nlet User = ({user, followingInProgress, unfollowUser, followUser}) => {\n    return (\n        <div>\n            <span>\n                <div>\n                <NavLink to={\"/profile\" + \"/\" + user.id}>\n                   <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.photo}/>\n                </NavLink>\n                </div>\n                <div>\n                    {user.followed\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                            unfollowUser(user.id)\n                        }}>Follow</button>\n\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                            followUser(user.id);\n                        }}>Unfollow</button>}\n                 </div>\n            </span>\n            <span>\n                <span>\n                    <div>{user.name}</div>\n                    <div>{user.status}</div>\n                </span>\n                <span>\n                    <div>{\"u.location.country\"}</div>\n                    <div>{\"u.location.city\"}</div>\n                </span>\n            </span>\n        </div>\n    )\n};\n\nexport default User;","import React from \"react\";\nimport s from './User.module.css'\nimport userPhoto from './../../assets/images/user.png'\nimport {NavLink} from \"react-router-dom\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\n\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\n\n    return (\n        <div>\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount}\n                       pageSize={pageSize}/>\n            <div>\n                {\n                    users.map(u => <User key={u.id} user={u}\n                                               followingInProgress={props.followingInProgress}\n                                               followUser={props.followUser}\n                                               unfollowUser={props.unfollowUser} />)\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Users;","export const getUser = (state) => {\n    return state.usersPage.users\n};\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n};\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n};\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n};\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n};\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n};\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Users from \"./Users\";\nimport {\n    followUser, unfollowUser,\n    requestUsers,\n    setCurrentPage,\n    toggleFollowingProgress\n} from \"../../redux/usersReducer\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUser\n} from \"../../redux/users-selectors\";\n\n\nclass UsersComponent extends React.Component {\n\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props;\n        this.props.requestUsers(currentPage, pageSize);\n    };\n\n    onPageChanged = (pageNumber) => {\n        const {pageSize} = this.props;\n        this.props.requestUsers(pageNumber, pageSize);\n    };\n\n    render() {\n        return <>\n            {this.props.isFetching ?\n                <Preloader/>\n                : null}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   users={this.props.users}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\n                   followingInProgress={this.props.followingInProgress}\n                   followUser={this.props.followUser}\n                   unfollowUser={this.props.unfollowUser}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUser(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n};\n\n\nexport default compose(\n    connect(mapStateToProps, {followUser, unfollowUser, setCurrentPage, toggleFollowingProgress, requestUsers})\n)(UsersComponent);\n"],"sourceRoot":""}